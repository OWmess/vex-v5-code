- **为方便说明，以下文档中将```Visual Studio Code```简称为```VSCode```。**
- **若还未查看```准备开始```文档，请先浏览```准备开始```文档，搭建本项目所需环境。**
- 本程序依赖于PROS，使用```C/C++```编写代码，使用的```C++```版本为```C++17```
# 在程序内配置端口与参数
## 配置底盘参数及底盘电机端口
1. 使用VSCode打开VEX-VRC-Code-v1.0文件夹，并检查是否已正确打开为PROS项目。
2. 打开src/main.cpp文件。
3. 找到```Drive chassis```变量，根据注释配置相关参数。

## 配置上层结构端口
1. 打开src/main.cpp文件
2. 找到```Control control ```变量，根据注释配置相关参数。

# 使用竞赛模板编写代码
- 打开src/main.cpp文件，文件内有以下函数
  ```cpp
    void autonomous(void);
    void initialize(void);
    void disabled(void);
    void competition_initialize(void);
    void opcontrol(void);
    std::vector<int32_t> get_controller_button();
  ```
- ```void autonomous(void)```函数将会在自动阶段开始时自动运行。
- ```void opcontrol(void)``` 函数将会在手动阶段开始时自动运行。
- 无论在何种情况下，```void initialize(void)```函数总是在程序刚启动的时候就执行。
- ```void disabled(void)``` 函数将会在没有连接到竞赛场控时运行，在连接到竞赛场控时则不运行。
- ```void competition_initialize(void)```函数只有在连接竞赛场控时才会运行，且将在竞赛开始后自动退出。
- ```std::vector<int32_t> get_controller_button()```函数用于获取控制器上的按钮状态

# 代码的整体结构说明
本代码中，所有类、函数的声明均在```/include```中，所有的实现均在```/src```中，代码的整体架构如下：
```
│  .clang-format
│  .gitattributes
│  .gitignore               
│  common.mk                编译配置文件
│  compile_commands.json    
│  LICENSE.md
│  Makefile                 编译配置文件，无需改动
│  project.pros             PROS项目配置文件
│  
├─.d                        编译生成的文件目录
├─.vscode                   VSCode配置文件目录
├─bin                       编译生成的文件目录
├─docs                      代码相关文档
├─firmware                  编译所依赖的静态库
├─include                   头文件目录
│  │  api.h                 PROS api
│  │  autons.hpp            自动阶段函数声明
│  │  control.hpp           上层机构Control类声明
│  │  main.h                包含整个项目中所使用的通用定义和头文件
│  │  
│  ├─display                LVGL头文件
│  │                        
│  ├─EZ-Template            模板头文件目录
│  │  │  api.hpp            模板 api
│  │  │  auton.hpp          程序选择器声明
│  │  │  auton_selector.hpp 程序选择器声明
│  │  │  PID.hpp            PID类声明
│  │  │  sdcard.hpp         sdcard相关声明
│  │  │  util.hpp           一些编程时会用到的工具函数声明
│  │  │  
│  │  └─drive               底盘运动相关头文件目录
│  │          drive.hpp     底盘运动Drive类声明
│  │          odom.hpp      Odometry定位声明
│  │          
│  │                      
│  └─pros                   PROS库函数
│                           
│      
└─src                       代码实现目录
  │  autons.cpp             自动阶段函数实现
  │  control.cpp            上层结构控制实现
  │  main.cpp               程序的开始，main.cpp
  │  
  └─EZ-Template             模版的实现
      │  auton.cpp          程序选择器
      │  auton_selector.cpp 程序选择器
      │  PID.cpp            PID实现
      │  sdcard.cpp         sdcard使用
      │  util.cpp           工具函数实现
      │  
      └─drive               底盘运动实现
              drive.cpp     底盘控制函数
              exit_conditions.cpp   pid退出条件
              odom.cpp              Odometry实现
              odom_drive.cpp        Odometry实现
              pid_tasks.cpp         pid线程维护与实现
              pto.cpp               pto底盘
              set_pid.cpp           pid设置 
              slew.cpp              pid缓加速
              user_input.cpp        控制器相关
```

# 底盘控制

